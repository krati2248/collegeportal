<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/lb.css"/>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container-fluid">
        <div class="row" style="height:811px;">
            <div class="col-lg-6 col-sm-2 b">
                <img src="./Images/studl.png" alt="/">
            </div>
            <div class="col-lg-6"  >
                 
                <section class="container" id="login">
                     <div class="row">
                        <div class="col-lg-2">
             
                        </div>
                        <div class="col-lg-8 h">
                            <center>
                                <h1 class="mb-5">
                                    College Portal
                                </h1>
                            </center>
                            <% if(message.length > 0){ %>
                                <div class="alert alert-danger">
                                    <!-- To print -->
                                     <%= message %>
                                </div>
                                <% } %>
                            <div class=" bglogin p-4">
                                <form action="/insertStudent" method="post" enctype="multipart/form-data">
                                    <!-- logo -->
                                    <!-- <center>
                                        <img class="mb-4 rounded-circle" src="./Images/logo.jpeg" alt="logo" width="20%"
                                            height="20%">
                                    </center> -->
            
                                    <!-- Heading (Login) -->
                                    <h2 class="mb-5 text-center" style="color:black">Register</h2>
                                    
                                             <div class="container">
                                                <div class="row" id="rw">
							 
                                                    <div class="col-lg-12 inpu">
                                                         
                                                        <input name="name" class="form-control text-capitalize" id="name" type="text" placeholder="Your username" autocomplete="off">
                                                        <i class="fa-solid fa-user"></i>
                                                    </div>	 
                                                    <p id="userch" style="height:8px;"></p>
                                                     
                                                     
                                                </div>
                                                    <!-- Email -->
                                                   
                                                    <div class="row">
            
                                                        <div class="col-lg-12 inpu">
                                                            <input name="email" class="form-control" type="email"
                                                                placeholder="Your email">
                                                                <i class="fa-solid fa-envelope"></i> 
                                                        </div>
                                                        <p id="emailch" style="height:8px;"></p>
                                                    </div>
            
                                                    <!-- Password -->
                                                    
                                                <div class="row ">
							 
                                                   <div class="col-lg-12 inpu">
                                                      <input name="password" class="form-control" id="pswd" type="password" 
                                                        placeholder="Enter password">
                                                       <i class="fa-solid fa-eye"></i>
                                                         </input>
                                                        </div>
                                                         <p id="ipswdch" style="height:8px;"></p>
                                                         </div>
                                            <!-- Confirm Password -->
    <div class="row ">
         
        <div class="col-lg-12">
            <input name="confirmpassword" class="form-control" id="pswdch" type="password"
            placeholder="Confirm password">
            
        </div>
        <p id="icpswd" style="height:8px;"></p>
    </div>
    <!--Image-->
    <div class="row">
         
        <div class="col-lg-12 ">
            <input name="image" class="form-control" type="file"
            placeholder="Upload image" onchange="imgefunc(this)" accept="image/png, image/jpg" id="imag">
        </div>
        <p id="imge" style="height:8px;"></p>
    </div>
     
    <!-- Button (Login) -->
     
    <center>
        <button class="btn btn-primary mb-1 btn-lg w-100">Register</button>
    </center>
    <br/>
    <center>
    <a href="./" class="text-uppercase fw-light fw-bold text-decoration-none"  >Already registered? Login</a>
    </center>
</form>
                            </div>
                        </div>
                        </div>
                        </section>
                        </div>
                        </div>
                        </div>

     
<script type="text/javascript">
    $(document).ready(function()
    {
        // $('#userch').hide();
        // $('#emailch').hide();
        // $('#ipswdch').hide();
        // $('#icpswd').hide();
        var user_er=true;
        var emaild=true;
        var pswd=true;
        var cpswd=true;
        
        $('#name').keyup(function()
    {
        userfunc();
    })
        $('#pswd').keyup(function()
    {
        pswdfunc();
    })
    $('#pswdch').keyup(function()
    {
        cpswdfunc();
    })
    function userfunc()
    {
        let uservl=$('#name').val();
        if(uservl.length=='')
    {
        $('#userch').show();
        $('#userch').html('**please enter your username');
        $('#userch').focus();
        $('#userch').css({'color':'red'});
        //$('#rw').css('margin-bottom','0px');
        user_er=false;
        return false;
    } 
    if((uservl.length<4) || (uservl.length>6))
    {
        $('#userch').show();
        $('#userch').html('**username length must between 4 and 6');
        $('#userch').focus();
        $('#userch').css({'color':'red'});
        //$('#rw').css('margin-bottom','0px');
        user_er=false;
        return false;

    }
    else{
        $('#userch').html('');
        //$('#rw').css('margin-bottom','28px');
    }
    }
    })
    function pswdfunc()
    {
        var pswdvl=$('#pswd').val();
        if(pswdvl.length<8)
        {
        $('#ipswdch').html('password must be atleast 8 characters long');
        $('#ipswdch').css({'color':'red'});
        return;
        }
        if(!/[@$#*%^&!]/.test(pswdvl))
        {
            $('#ipswdch').html('include atleast one special character');
            $('#ipswdch').css({'color':'red'});
            return;
        }
       
        else
        {
            $('#ipswdch').html('');
        }

    }
    function cpswdfunc()
    {
        var h=$('#pswd').val();
        var l=$('#pswdch').val();
        if(h!=l)
       {
          $('#icpswd').html('not matching');
          $('#icpswd').css({color:'red'});
          return;
       }
       else
       {
        $('#icpswd').html('');
        return;
       }
    }
    // $('#imag').change(function()
    // {
    //     imgefunc();
    // })
    function imgefunc(inpu)
    {
         
        const h=inpu.files[0];
        console.log(h);
        const t=['image/png','image/jpeg'];
        if(!h)
    {
        $('#imge').html('no');
        return;
    }
        if(!t.includes(h.type))
    {
        $('#imag').val('');
        $('#imge').html('only png and jpg image is allowed');
        $('#imge').css({'color':'red'});
        return;
    }
    else 
    {
        $('#imge').html('');
    }
    }
</script>
</body>
</html>